# Layouts and Pages

> Source: nextjs.org/docs/app/getting-started/layouts-and-pages (v16.1.6)

## Pages

Default export a React component from `page.tsx` inside `app/` to create a route.

```tsx
// app/page.tsx → /
export default function Page() {
  return <h1>Hello Next.js!</h1>
}
```

## Layouts

Shared UI across pages. Preserves state on navigation, does not rerender. Must accept `children` prop.

```tsx
// app/layout.tsx — root layout (required, must have <html> + <body>)
export default function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    <html lang="en">
      <body><main>{children}</main></body>
    </html>
  )
}
```

### Nesting layouts

Layouts nest automatically via folder hierarchy. Child layout wraps inside parent layout.

```tsx
// app/blog/layout.tsx — wraps all /blog/* pages
export default function BlogLayout({ children }: { children: React.ReactNode }) {
  return <section>{children}</section>
}
```

Render order: root layout → blog layout → blog page.

## Nested Routes

Folders = URL segments. Add `page.tsx` to make route public.

```
app/
├── page.tsx              → /
├── blog/
│   ├── page.tsx          → /blog
│   └── [slug]/
│       └── page.tsx      → /blog/:slug
```

## Dynamic Segments

Wrap folder name in `[]`. The `params` prop is a **Promise** (must `await`).

```tsx
// app/blog/[slug]/page.tsx
export default async function BlogPostPage({
  params,
}: {
  params: Promise<{ slug: string }>
}) {
  const { slug } = await params
  const post = await getPost(slug)
  return <div><h1>{post.title}</h1><p>{post.content}</p></div>
}
```

## Search Params

### Server Component (page)

`searchParams` is a **Promise** — opts page into dynamic rendering.

```tsx
export default async function Page({
  searchParams,
}: {
  searchParams: Promise<{ [key: string]: string | string[] | undefined }>
}) {
  const filters = (await searchParams).filters
}
```

### When to use what

| Need | Use |
|------|-----|
| Load data with search params (pagination, DB filter) | `searchParams` prop (server) |
| Client-only filtering (already-loaded data) | `useSearchParams()` hook |
| Event handlers (no re-render) | `new URLSearchParams(window.location.search)` |

## Linking

```tsx
import Link from 'next/link'

// Primary navigation method — prefetches + client-side transition
<Link href={`/blog/${post.slug}`}>{post.title}</Link>
```

For advanced navigation: `useRouter()` hook.

## Route Props Helpers (Next.js 16)

Global types — no imports needed. Generated by `next dev`, `next build`, or `next typegen`.

```tsx
// PageProps — includes typed params + searchParams
export default async function Page(props: PageProps<'/blog/[slug]'>) {
  const { slug } = await props.params
  return <h1>Blog post: {slug}</h1>
}

// LayoutProps — includes children + named slots (@folder)
export default function Layout(props: LayoutProps<'/dashboard'>) {
  return <section>{props.children}</section>
}
```

| Helper | Includes | Notes |
|--------|----------|-------|
| `PageProps<route>` | `params`, `searchParams` | Static routes: `params` = `{}` |
| `LayoutProps<route>` | `children`, named slots | Slots from `@folder` are typed |
